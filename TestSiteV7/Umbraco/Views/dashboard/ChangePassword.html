<form name="passwordForm" ng-controller="Umbraco.Dashboard.StartupChangePasswordController">
	<h3>Change password</h3>
	<p>Enter your current password, then repeat your new password to change it</p>
	
	<umb-pane>
		<umb-control-group label="Old password">
			<input type="password" name="oldpass" ng-model="profile.oldPassword" required/>

			<small class="help-inline" 
					ng-show="passwordForm.oldpass.$error.required">
					Required
			</small>

			<small class="help-inline" 
				ng-show="passwordForm.passcompare.$error.serverside">
				Old password was not correct
			</small>
		</umb-control-group>

		<umb-control-group label="New password">
			<input type="password" name="pass" ng-model="profile.newPassword" required/>

			<span class="help-inline" val-msg-for="pass" val-toggle-msg="required">Required</span>
		</umb-control-group>

		<umb-control-group label="Repeat new password">
				<input type="password" name="passcompare" 
					   val-custom="{compare: '$value === profile.newPassword'}"
					   val-custom-watch="'profile.newPassword'" 
					   ng-model="profile.repeatNewPassword" required/>

				<small class="help-inline" 
					ng-show="passwordForm.passcompare.$error.required">
					Required
				</small>

				<small class="help-inline" 
					ng-show="passwordForm.passcompare.$error.compare">
					You must re-enter the new password
				</small>

		</umb-control-group>

		<umb-control-group hideLabel="1">
			<button class="btn btn-primary"  
					ng-click="changePassword(profile)">Change</button>
		</umb-control-group>			
	</umb-pane>
</form>