<form novalidate name="contentForm" 
        ng-controller="Umbraco.Editors.Content.EditController"   
        ng-show="loaded" 
        ng-submit="save()"
        val-form-manager>
    <umb-panel>
        <umb-header tabs="content.tabs">

            <div class="span4">
                <umb-content-name 
                    placeholder="Enter a name..." 
                    ng-model="content.name"></umb-content-name>
            </div>

            <div class="span8">
                
                <div class="btn-toolbar pull-right umb-btn-toolbar">
                    <div class="btn-group" ng-animate="'fade'" ng-show="formStatus">
                        <p class="btn btn-link umb-status-label">{{formStatus}}</p>
                    </div>

                    <div class="btn-group">
                        <a class="btn" ng-click="preview(content)">
                            <localize key="buttons_showPage">Preview page</localize>
                        </a>
                    </div>

                    <div class="btn-group">

                        <a class="btn btn-success" href="#" ng-click="saveAndPublish()"
                        prevent-default data-hotkey="ctrl+p">
                            <localize key="buttons_saveAndPublish">Publish</localize>
                        </a>
                       
                        <a class="btn btn-success dropdown-toggle" data-toggle="dropdown">
                            <span class="caret"></span>
                        </a>

                        <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
                            <li><a href="#" ng-click="save()"
                             prevent-default data-hotkey="ctrl+s">
                                <localize key="buttons_save">Save</localize>
                            </a></li>
                            <li ng-show="content.publishDate"><a href="#" ng-click="unPublish()"
                             prevent-default><localize key="content_unPublish">Unpublish</localize></a></li> 
                         </ul>
                     </div>
                 </div>
             </div>
        </umb-header>

        <umb-tab-view>
            <umb-tab id="tab{{tab.id}}" rel="{{tab.id}}" ng-repeat="tab in content.tabs">
                <div class="umb-pane">
                    <umb-property 
                        property="property"
                        ng-repeat="property in tab.properties">
                        
                        <umb-editor model="property"></umb-editor>
                    </umb-property>
                </div>
            </umb-tab>
        </umb-tab-view>
    </umb-panel>
</form>
